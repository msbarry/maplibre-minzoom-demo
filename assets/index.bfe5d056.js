import{j as g,r as u,i as v,P as x,c as b,R as M}from"./vendor.c4b328d0.js";import{g as R,l as h}from"./data.9a587c7b.js";import{m as y}from"./vendor-maplibre.c3bb1842.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();const m=g.exports.jsx;function S(c,n,t,s){const e=u.exports.useRef(!0);u.exports.useEffect(()=>{if(!(!c||!n)){if(e.current){e.current=!1;return}s(c)}},[n,...t])}const E=Object.freeze({mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel",movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd",wheel:"onWheel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"});function O(c,n){var t;if(Object.keys(c.sources).length!==Object.keys(n.sources).length)return!1;for(const[s,e]of Object.entries(c.sources))if(((t=n.sources[s])==null?void 0:t.type)!==(e==null?void 0:e.type)||"data"in(n.sources[s]||{})!="data"in(e||{}))return!1;return!0}function z({renderWorldCopies:c=!1,maxBounds:n=[-179,-85,179,85],...t}){const[s,e]=u.exports.useState(!1),o=u.exports.useRef(null),a=u.exports.useRef();S(a.current,s,[t.style],r=>{const d=r.getStyle();if(O(d,t.style)){r.setStyle(t.style,{diff:!0,ignoreSources:!0});for(const[i,f]of Object.entries(d.sources)){const l=t.style.sources[i];v(l==null?void 0:l.data,f==null?void 0:f.data)||(console.log("set data for ",i),r.getSource(i).setData(l.data))}}else r.setStyle(t.style,{diff:!0})}),u.exports.useEffect(()=>{if(!o.current)return;const r=a.current=new y.Map({container:o.current,style:t.style,center:[0,0],zoom:0,pitch:0,renderWorldCopies:c,maxBounds:n,minZoom:-2,localIdeographFontFamily:"sans-serif",fadeDuration:0,dragRotate:!1,pitchWithRotate:!1,hash:!0,boxZoom:!1});return r.keyboard.disableRotation(),r.touchPitch.disable(),r.touchZoomRotate.disableRotation(),window.map=r,r.once("load",d=>{e(!0),t.onLoad&&t.onLoad(d,r)}),()=>{r.remove(),a.current=void 0}},[]);for(const[r,d]of Object.entries(E)){const i=t[d];u.exports.useEffect(()=>{var f;if(i&&s&&a.current){const l=p=>i(p,a.current);return(f=a.current)==null||f.on(r,l),()=>{var p;(p=a.current)==null||p.off(r,l)}}},[i,s])}return m("div",{ref:o,className:"Map"})}let k=new x;y.addProtocol("pmtiles",k.tile);function w(){let c=["interpolate",["exponential",1.5],["zoom"],0,["*",["get","__size"],Math.round(7.692307692307692)/10],8,["*",5,["get","__size"]]];return m("div",{className:"CitiesApp",children:m(z,{renderWorldCopies:!0,maxBounds:null,style:{version:8,glyphs:"./fonts/{fontstack}/{range}.pbf",sources:{vector:{type:"vector",url:`pmtiles://${R}`,attribution:'<a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'}},layers:[{id:"circle",type:"circle",source:"vector","source-layer":"circles",paint:{"circle-color":["get","__color"],"circle-radius":c}},{id:"text",type:"symbol",source:"vector","source-layer":"labels",filter:[">=",["zoom"],["-",["get","minzoom"],1.5]],paint:{"text-color":"white","text-halo-blur":.5,"text-halo-width":2,"text-halo-color":"black","text-translate":[0,-3]},layout:{...h,"text-field":[...h["text-field"]],"text-font":[...h["text-font"]]}}],transition:{delay:0,duration:0}}})})}const j=w;b.createRoot(document.getElementById("root")).render(m(M.StrictMode,{children:m(j,{})}));
